
CityGame:

<FieldCell>:
    size: 32, 32
    size_hint: None, None
    canvas:
        Color:
            rgba: 0, .4, .4, .4
        Rectangle:
            size: self.size
            pos: self.pos
    Image:
        id: cell_image
        source: None
        pos: root.pos
        size: root.size

<BuildingWidget>:
    size: 32, 32
    size_hint: None, None
    Image:
        id: building_image
        pos: root.pos
        size: root.size
        source: None

<GrabbableCell>:
    size: 32, 32

<ResourceView>:
    spacing: 20
    orientation: 'horizontal'
    Image:
        id: resource_icon
        size: 32, 32
        source: None
    Label:
        id: resource_count
        text: '0'

<ResourceBox>:
    canvas.before:
        Color:
            rgba: 0.2, 0.2, 0.2, 1
        Rectangle:
            size: self.size
            pos: self.pos
    orientation: 'vertical'
    spacing: 5

<CityGame>:
    canvas:
        Color:
            rgba: 1, .3, .8, .5
        Rectangle:
            pos: root.pos
            size: root.size
    id: citygame
    size: root.size
    pos: root.pos
    BoxLayout:
        orientation: 'horizontal'
        spacing: 10
        size: root.size
        pos: root.pos
        PlayingField:
            id: field
            size: 600, 600 # rm hardcode later
            size_hint: None, None
            canvas.before:
                Color:
                    rgba: 0.4, 0.4, 0.4, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
        RightBlock:
            size_x: 100
            canvas.before:
                Color:
                    rgba: 0.4, 0.4, 0.4, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
            orientation: 'vertical'
            padding: 10
            spacing: 10
            ItemMakerWidget:
                canvas.before:
                    Color:
                        rgba: 0.2, 0.2, 0.2, 1
                    Rectangle:
                        size: self.size
                        pos: self.pos
                id: next_item_box
                padding: 10
                rows: 1
                cols: 1
                size: 100, 100
                size_hint: None, None
            Label:
                id: next_item_label
                size_y: 30
                size_hint_y: None
                canvas.before:
                    Color:
                        rgba: 0.2, 0.2, 0.2, 1
                    Rectangle:
                        size: self.size
                        pos: self.pos
                text: "Loading..."
            Button:
                on_press: root.start_turn()
                text: 'Reroll item'
                size_hint_y: None
                size_y: 50
            ResourceBox
                id: resource_box
#            Label:
#                canvas.before:
#                    Color:
#                        rgba: 0.2, 0.2, 0.2, 1
#                    Rectangle:
#                        size: self.size
#                        pos: self.pos
#                text: str(root.resources)
